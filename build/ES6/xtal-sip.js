(function(){class a extends HTMLElement{static get(a){return window[a.split('-').join('_')]}static load(...b){b.forEach((b)=>a.loadDep(b))}static loadDep(b){const c=this.get(b);if(!c)return void(a._notFound[b]=!0);const e=c.getAttribute('href');if(a._a[e])return;a._a[e]=!0;const f=c.dataset;if(customElements.get(b))return;let d,g='href';switch(c.getAttribute('as')){case'document':d='link';break;case'script':d='script',g='src';break;case'fetch':d=c.dataset.importer;}let h=f.importer?document.body:document.head;const i=document.createElement(d);i.setAttribute(g,e),i.setAttribute('rel','import'),c.async&&i.setAttribute('async',''),setTimeout(()=>{h.appendChild(i)},1)}connectedCallback(){'loading'===document.readyState?document.addEventListener('DOMContentLoaded',()=>{this.do()}):this.do()}do(){const b=this.getAttribute('load').split(',');b.forEach((b)=>{a.loadDep(b)});let c=b.slice(0);b.forEach((a)=>{customElements.whenDefined(a).then(()=>{c=c.filter((b)=>b!==a),0===c.length&&this.dispatchEvent(new CustomEvent('loaded-changed',{detail:{value:!0},bubbles:!0,composed:!0}))})})}}a._a={},a._notFound={},customElements.define('xtal-sip',a)})();