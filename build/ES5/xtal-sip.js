(function(){var a='xtal-sip',b=customElements.define;customElements.define=function(a,d){var e=c.get(a);e&&Object.assign(d,e.el.dataset),b(a,d)};var c=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'replace',value:function(a,b,c){return a.replace(new RegExp(b,'g'),c)}},{key:'qsa',value:function(a,b){return[].slice.call((b?b:this).querySelectorAll(a))}},{key:'get_h',value:function(){for(var a,b=this.parentElement;b;){if(a=b.shadowRoot,a)return a;b=b.parentElement}return document.body}},{key:'process_h',value:function(a){if(a){var c=b._lM;for(var d in b._added)delete c[d];for(var e in b._added={},c)if(!b._added[e]){var f=b.get(e);if(f.preemptive){b.loadDep(e);continue}a.querySelector(e)&&b.loadDep(e)}}}},{key:'connectedCallback',value:function(){var a=this;if(!b._lM){b._lM={};var c={};this.qsa('link[rel-ish="preload"]',document.head).forEach(function(a){b._sub&&b._sub(a),a.dataset.tags.split(',').forEach(function(b){c[b]||(c[b]=[]),c[b].push(a)})});var d=[];for(var e in c){var f=c[e],g=void 0;if(1===f.length?g=f[0]:b._tB&&(g=b._tB(e,f)),g){if(g.alreadyAdded)continue;g.alreadyAdded=!0,d.push(g)}}d.forEach(function(b){var c=void 0!==b.dataset.async,d=b.getAttribute('href');b.dataset.tags.split(',').forEach(function(c){var e=d,f=0;c.split('-').forEach(function(b){e=a.replace(e,'\\{'+f+'\\}',b),f++});var g=b.dataset.base;if(!g){var h=b.dataset.baseRef;h&&(g=document.getElementById(h).dataset.base)}g||(g=''),e=g+e;var i=document.createElement('link');i.href=e,i.rel='preload',i.setAttribute('as',b.getAttribute('as')),i.dataset.tag=c,Object.assign(i.dataset,b.dataset),document.head.appendChild(i)})}),this.qsa('link[rel="preload"][data-tag]',document.head).forEach(function(a){var c=a.dataset.tag,d={path:a.getAttribute('href'),async:void 0!==a.dataset.async,isJS:'script'===a.getAttribute('as'),isCC:'c-c'===a.dataset.importer,preemptive:void 0!==a.dataset.preemptive,el:a},e=b._lM[c];e||(b._lM[c]=[]),b._lM[c].push(d)})}var h=this.getAttribute('load');h?h.split(',').forEach(function(a){b.loadDep(a)}):this.process_h(this.parentElement)}}],[{key:'get',value:function(a){if(b._lM){var c=b._lM[a];if(c)if(1<c.length)throw'Duplicate tagname found: '+a;else return c[0]}}},{key:'loadDeps',value:function(a){a.forEach(function(a){return b.loadDep(a)})}},{key:'loadDep',value:function(a){b._added[a]=!0;var c=this.get(a);if(c&&!b._loaded[c.path]&&!customElements.get(a)){var d,e=document.head;c.isJS?(d=document.createElement('script'),d.src=c.path):c.isCC?(d=document.createElement('c-c'),d.setAttribute('href',c.path),e=document.body):(d=document.createElement('link'),d.setAttribute('rel','import'),d.setAttribute('href',c.path)),c.async&&d.setAttribute('async',''),setTimeout(function(){e.appendChild(d)},50)}}}]),b}(HTMLElement);c._added={},c._loaded={},c.useJITLoading=!1;var d={};document.head.dispatchEvent(new CustomEvent(a+'-init',{detail:d})),c._tB=d.tieBreaker,c._sub=d.substitutor,customElements.define(a,c),document.addEventListener('DOMContentLoaded',function(){var b=document.createElement(a);b.setAttribute('load','dom-bind'),document.body.appendChild(b)})})();